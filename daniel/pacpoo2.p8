pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
function _init()
px=64
py=32
pd=0
lives=10
t=0
score=0
end

function _draw()
cls()
map(0,0,0,0,16,16)
f=flr(t/4)%2
spr(1+pd+f*16,px,py)
print(score,0,0)
//print(lives,0,0)
//print(px,0,8)
//print(py,0,16)
//print(pd,0,24)
end

function wall(a)
	return a==64
end

function solid(x,y)
	if wall(mget(x/8,y/8)) then return true end
	if wall(mget((x+7)/8,y/8)) then return true end
	if wall(mget(x/8,(y+7)/8)) then return true end
	if wall(mget((x+7)/8,(y+7)/8)) then return true end
 return false
end

function eatdotat(x,y)
	if mget(x/8,y/8)==80 then 
	   mset(x/8,y/8,0)
	   score=score+1
	   sfx(1) 
	end 
end

function eatdot(x,y)
 eatdotat(x+3,y+3)
 eatdotat(x+4,y+3)
 eatdotat(x+3,y+4)
 eatdotat(x+4,y+4)
end

function move(dx,dy,dd)
nx=px+dx
ny=py+dy
if(not solid(nx,ny))then
	px=nx
	py=ny
end
eatdot(px,py)
pd=dd
end

function _update()
if(btn(0)) move(-1,0,1)
if(btn(1)) move(1,0,0)
if(btn(2)) move(0,-1,3)
if(btn(3)) move(0,1,2)
t=t+1
end



__gfx__
0000000000aaaa0000aaaa0000aaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000aaaaaa00aaaaaa00aaaaaa00a0000a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700aaaaa000000aaaaaaaaaaaaaaa0000aa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000aaa0000000000aaaaaa00aaaaaa00aaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000aaa0000000000aaaaaa00aaaaaa00aaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700aaaaa000000aaaaaaa0000aaaaaaaaaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000aaaaaa00aaaaaa00a0000a00aaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000aaaa0000aaaa000000000000aaaa000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000aaaa0000aaaa0000aaaa0000a00a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000aaaaaa00aaaaaa00aaaaaa00aa00aa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000aaaaaaaaaaaaaaaaaaaaaaaaaaa00aaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000aaa0000000000aaaaaa00aaaaaa00aaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000aaa0000000000aaaaaa00aaaaaa00aaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000aaaaaaaaaaaaaaaaaaa00aaaaaaaaaaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000aaaaaa00aaaaaa00aa00aa00aaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000aaaa0000aaaa0000a00a0000aaaa000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
94999499000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99949994000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
94999499000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
99949994000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00066000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00c77600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00c67600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000cc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
4040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4050404040505050405050505050504000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4050405050504050505040505040504000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4050404050404040405050405040504000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4050505050505050504050405040504000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040405040504050405040504000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4050405050504050504050405040504000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4050505040505050405050405040504000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040504040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4050505040505050505050505050504000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4050405050504040405050404040504000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040505040505040505050504000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4050505050504050504050504040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100000000000030000201a2301a2401a220000401a250192500806019270192601d20025210232201e2400b250122601e250232402523025230232301c23019220182001a2102f220232301f2501625000040
002300000d71006750157500170008800098000e8000c8000b8000d800010000300003000030001f8001e80006000060000600005000040000300001000038000e800028000b2000180019800198000100006000
